<!DOCTYPE html>
<html lang="en">
<head>
  <title>NYC Data Analyst Salary Predictor</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<link rel="stylesheet" href="static/css/main.css">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js"></script>

<link rel="stylesheet" href="/static/css/floating-labels.css">
<link rel="stylesheet" href="/static/css/main.css">
<script src="static/js/echarts.min.js"></script>

</head>
<body>

<div class="div-centered">
<form  action="{{ url_for('predict')}}"  method="POST" >
  <div class="text-center mb-4">
    <img src="../static/stationery.png" class="img-fluid" alt="Responsive image">
    <h1 class="h3 mb-3 font-weight-normal">Salary Predictor</h1>
    <p>Please <strong style="color: crimson">Only</strong> select those skills that a job requires to maximize the accuracy</p>
  </div>

    <section class="predictor">
         <!-- Main Input For Receiving Query to our ML -->
    <div class="text-center">
    <label class="mdb-main-label">Company Ratings:  </label>
        <select class="selectpicker 1" data-header="How people think about this company?" data-max-options="1" data-width="55%" name="rating">
                <option  value="0" data-subtext="I have nothing to lose">0</option>
                <option  value="1" data-subtext="Well...">1</option>
                <option  value="2" data-subtext="It is Okay..">2</option>
                <option  value="3" data-subtext="Glassdoor Median" selected>3.6</option>
                <option  value="4" data-subtext="Great!">4</option>
                <option  value="5" data-subtext="Dream came true">5</option>
        </select>
    </div>
        <br>
    <div class="text-center">
    <label class="mdb-main-label">Data Skills:  </label>
    <select class="selectpicker 2" data-live-search="true" data-min-options="1" data-width="59%" multiple name="skills_selected"
            required>
        <optgroup label="Lanuage">
            <option  value="Python" selected>Python</option>
            <option  value="R">R</option>
            <option  value="Java">Java</option>
            <option  value="C/C++">C/C++</option>
            <option  value="SQL">SQL</option>
            <option  value="Scala">Scala</option>
            <option  value="Scripting">Scripting</option>
        </optgroup>
        <optgroup label="Platform">
            <option  value="AWS">AWS</option>
            <option  value="Azure">Azure</option>
            <option  value="Oracle">Oracle</option>
            <option  value="Hadoop">Hadoop</option>
            <option  value="Pig">Apache Pig</option>
            <option  value="Kafka">Kafka</option>
            <option  value="Linux">Linux</option>
            <option  value="Spark">Apache Spark</option>
            <option  value="MATLAB">MATLAB</option>
            <option  value="TensorFlow">TensorFlow</option>
        </optgroup>
        <optgroup label="Software">
            <option  value="Tableau">Tableau</option>
            <option  value="Hive">Apache Hive</option>
        </optgroup>
        <optgroup label="Concept">
            <option  value="NoSQL">NoSQL</option>
            <option  value="Machine-Learning">Machine-Learning</option>
            <option  value="Natural-Language-Processing">Natural-Language-Processing</option>
        </optgroup>
    </select>
    </div>
        <div class="text-center">
        <br>
      <button class="btn btn-lg btn-primary" type="submit"  style="width: 200px;">Submit</button>
    </div>
    </section>
</form>

    <br>
    <div class="text-center">
        Max Salary: ${{ Max_Salary }}<br>
        Min Salary: ${{ Min_Salary }}<br>

    </div>

    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->

    <div id="main" style="width:70%;height:400px; margin:1em  auto"></div>

    <script type="text/javascript">

        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));

        // 指定图表的配置项和数据

        var option = {
            title: {
                text: 'Salary Increase by adding one skill',
                left:'center'
            },
            tooltip: {},
            grid:{

            },
            yAxis: {
                data: {{ Suggest_Skills_Skills|safe}}
            },
            xAxis: {},
            visualMap: {
                orient: 'horizontal',
                left: 'center',
                min: {{ min_Suggest_Skills_SkillsSalary|safe }},
                max: {{max_Suggest_Skills_SkillsSalary|safe}},
                text: ['High', 'Low'],
                // Map the score column to color
                dimension: 0,
                inRange: {
                    color: ['#FFC47A', '#AB3514']
                }
            },
            series: [{
                type: 'bar',
                data: {{ Suggest_Skills_SkillsSalary|safe}},
                label: {
                normal: {
                    show: true,
                    position: 'right',
                    color:'black',
                    formatter:"${c0}",
                }
            },
            }]
        };
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
        window.onresize = function() {
            myChart.resize();
                };
    </script>

</div>



</body>

</html>